(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{22:function(e,t,s){},40:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(23),r=s(20),i=s(28),j=(s(22),s(17),s(0)),u=function(e){return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)("div",{className:"loading",children:"Loading ..."})})},l=s(27),o=s.n(l),m=function(e){var t=Object(n.useRef)(o()());return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)("div",{className:"username",style:{backgroundColor:"".concat(t.current)},children:Object(j.jsx)("div",{className:"username-main",children:Object(j.jsx)("form",{action:".",onSubmit:e.submit,children:Object(j.jsxs)("div",{className:"input-fields",children:[Object(j.jsx)("h3",{children:"Username Selection"}),Object(j.jsx)("p",{children:"Before proceeding into the chat application, you must provide a username to identify the message senders and receivers. Everytime you refresh the chat page, you will have to provide a new username, so we don't recommend refreshing the page for no reason. Don't put sensitive information as your username."}),Object(j.jsx)("input",{type:"text",className:"form-control",name:"username",id:"floatingInput",placeholder:"Username",required:!0}),Object(j.jsx)("button",{type:"submit",className:"username-submit",children:"Submit"})]})})})})})},d=function(e){return e.user===e.author?Object(j.jsx)(c.a.Fragment,{children:Object(j.jsxs)("div",{className:"message",children:[Object(j.jsx)("div",{className:"bubble bg-primary text-white",children:e.msg}),Object(j.jsxs)("small",{className:"text-end mt-4",children:[e.author," [You]"]})]})}):Object(j.jsx)(c.a.Fragment,{children:Object(j.jsxs)("div",{className:"message",children:[Object(j.jsx)("div",{className:"bubble-2 text-black",children:e.msg}),Object(j.jsx)("small",{className:"text-start ms-2 mt-4",children:e.author})]})})},b=function(e){return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)("div",{className:"main-container",children:Object(j.jsxs)("div",{className:"chatbox",children:[Object(j.jsxs)("div",{className:"chat-view",children:[Object(j.jsx)("div",{className:"id-container",children:Object(j.jsxs)("code",{children:["Welcome, ",e.user,"! ID: ",Object(j.jsx)("samp",{children:e.socket.id})]})}),e.data?e.data.map((function(t,s){return Object(j.jsx)(d,{author:t.author,msg:t.message,user:e.user},t._id)})):Object(j.jsx)("h5",{className:"text-center",children:"No messages yet, be the first one!"})]}),Object(j.jsx)("div",{className:"chat-inputs",children:Object(j.jsxs)("form",{action:".",onSubmit:e.sender,children:[Object(j.jsx)("input",{type:"text",className:"form-control",name:"msg",id:"floatingInput",placeholder:"Message",ref:e.inputRef,required:!0}),Object(j.jsx)("button",{type:"submit",children:"Send"})]})})]})})})},h=Object(i.a)("https://vast-waters-60826.herokuapp.com"),O=function(e){var t=Object(n.useState)(!1),s=Object(r.a)(t,2),a=s[0],i=s[1],l=Object(n.useState)([]),o=Object(r.a)(l,2),d=o[0],O=o[1],x=Object(n.useState)(null),p=Object(r.a)(x,2),f=p[0],g=p[1],v=Object(n.useRef)(null);Object(n.useEffect)((function(){h.on("connect",(function(){i(!0)})),h.on("initialData",(function(e){O(e)})),h.on("msgRecv",(function(e){O(e)}))}),[]);return f?a?Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)(b,{data:d,sender:function(e){e.preventDefault(),h.emit("msgSend",e.target.msg.value,f),v.current.value=""},user:f,socket:h,inputRef:v})}):Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)(u,{})}):Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)(m,{submit:function(e){e.preventDefault(),g(e.target.username.value)}})})},x=function(e){return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)(O,{})})};Object(a.render)(Object(j.jsx)(x,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.3b048b04.chunk.js.map